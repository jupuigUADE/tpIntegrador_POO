<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/org/gui/MainGui.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/org/gui/MainGui.java" />
              <option name="originalContent" value="package org.gui;&#10;&#10;import org.gui.KitchenPanel;&#10;import org.gui.MenuPanel;&#10;import org.gui.TablesPanel;&#10;import org.models.*;&#10;import org.models.Menu;&#10;&#10;import javax.swing.*;&#10;import java.awt.*;&#10;&#10;public class MainGui extends JFrame {&#10;    private final StockGeneral sistemaStock;&#10;    private final org.gui.InventoryPanel inventoryPanel;&#10;&#10;    public MainGui(StockGeneral sistemaStock, Menu menu, ReservationService reservationService, TableService tableService, Pedido productionService, User user) {&#10;        super(&quot;Sistema de Gestión Gastronómica&quot;);&#10;        this.sistemaStock = sistemaStock;&#10;&#10;        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);&#10;        setSize(1000, 600);&#10;        setLocationRelativeTo(null);&#10;&#10;        // Inventory panel (table)&#10;        inventoryPanel = new org.gui.InventoryPanel(sistemaStock);&#10;        org.gui.ControlsPanel controls = new org.gui.ControlsPanel(sistemaStock, inventoryPanel, user != null &amp;&amp; user.isAdmin());&#10;        JPanel inventoryTab = new JPanel(new BorderLayout());&#10;        inventoryTab.add(inventoryPanel, BorderLayout.CENTER);&#10;        inventoryTab.add(controls, BorderLayout.SOUTH);&#10;&#10;        // Menu panel&#10;        MenuPanel menuPanel = new MenuPanel(menu, sistemaStock);&#10;&#10;        // Reservations panel&#10;        org.gui.ReservationsPanel reservationsPanel = new org.gui.ReservationsPanel(reservationService, tableService);&#10;&#10;        // Tables panel&#10;        TablesPanel tablesPanel = new TablesPanel(tableService, reservationService);&#10;&#10;        // Production panel&#10;        org.gui.ProductionPanel productionPanel = new org.gui.ProductionPanel(productionService, menu, sistemaStock);&#10;        // Kitchen panel (compact view for staff)&#10;        org.gui.KitchenPanel kitchenPanel = new KitchenPanel(productionService, sistemaStock);&#10;&#10;        // Tabbed pane&#10;        JTabbedPane tabs = new JTabbedPane();&#10;        tabs.addTab(&quot;Inventario&quot;, inventoryTab);&#10;        tabs.addTab(&quot;Menú&quot;, menuPanel);&#10;        tabs.addTab(&quot;Mesas&quot;, tablesPanel);&#10;        tabs.addTab(&quot;Reservas&quot;, reservationsPanel);&#10;        tabs.addTab(&quot;Producción&quot;, productionPanel);&#10;        tabs.addTab(&quot;Cocina&quot;, kitchenPanel);&#10;&#10;        // Refresh relevant panels when switching tabs so updates appear immediately&#10;        tabs.addChangeListener(ev -&gt; {&#10;            int idx = tabs.getSelectedIndex();&#10;            if (idx &lt; 0) return;&#10;            String title = tabs.getTitleAt(idx);&#10;            if (&quot;Cocina&quot;.equals(title)) {&#10;                kitchenPanel.refreshAll();&#10;            } else if (&quot;Producción&quot;.equals(title)) {&#10;                productionPanel.refreshTable();&#10;            } else if (&quot;Inventario&quot;.equals(title)) {&#10;                inventoryPanel.refreshTable();&#10;            } else if (&quot;Mesas&quot;.equals(title)) {&#10;                tablesPanel.refreshTable();&#10;            }&#10;        });&#10;&#10;        getContentPane().setLayout(new BorderLayout());&#10;        getContentPane().add(tabs, BorderLayout.CENTER);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package org.gui;&#10;&#10;import org.gui.KitchenPanel;&#10;import org.gui.MenuPanel;&#10;import org.gui.TablesPanel;&#10;import org.models.*;&#10;import org.models.Menu;&#10;&#10;import javax.swing.*;&#10;import java.awt.*;&#10;&#10;public class MainGui extends JFrame {&#10;    private final StockGeneral sistemaStock;&#10;    private final org.gui.InventoryPanel inventoryPanel;&#10;&#10;    public MainGui(StockGeneral sistemaStock, Menu menu, ReservationService reservationService, TableService tableService, Pedido productionService, User user) {&#10;        super(&quot;Sistema de Gestión Gastronómica&quot;);&#10;        this.sistemaStock = sistemaStock;&#10;&#10;        // Apply global styles/look-and-feel before creating components&#10;        Styles.apply();&#10;&#10;        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);&#10;        setSize(1000, 600);&#10;        setLocationRelativeTo(null);&#10;&#10;        // Inventory panel (table)&#10;        inventoryPanel = new org.gui.InventoryPanel(sistemaStock);&#10;        org.gui.ControlsPanel controls = new org.gui.ControlsPanel(sistemaStock, inventoryPanel, user != null &amp;&amp; user.isAdmin());&#10;        JPanel inventoryTab = new JPanel(new BorderLayout());&#10;        inventoryTab.add(inventoryPanel, BorderLayout.CENTER);&#10;        inventoryTab.add(controls, BorderLayout.SOUTH);&#10;&#10;        // Menu panel&#10;        MenuPanel menuPanel = new MenuPanel(menu, sistemaStock);&#10;&#10;        // Reservations panel&#10;        org.gui.ReservationsPanel reservationsPanel = new org.gui.ReservationsPanel(reservationService, tableService);&#10;&#10;        // Tables panel&#10;        TablesPanel tablesPanel = new TablesPanel(tableService, reservationService);&#10;&#10;        // Production panel&#10;        org.gui.ProductionPanel productionPanel = new org.gui.ProductionPanel(productionService, menu, sistemaStock);&#10;        // Kitchen panel (compact view for staff)&#10;        org.gui.KitchenPanel kitchenPanel = new KitchenPanel(productionService, sistemaStock);&#10;&#10;        // Tabbed pane&#10;        JTabbedPane tabs = new JTabbedPane();&#10;        tabs.addTab(&quot;Inventario&quot;, inventoryTab);&#10;        tabs.addTab(&quot;Menú&quot;, menuPanel);&#10;        tabs.addTab(&quot;Mesas&quot;, tablesPanel);&#10;        tabs.addTab(&quot;Reservas&quot;, reservationsPanel);&#10;        tabs.addTab(&quot;Producción&quot;, productionPanel);&#10;        tabs.addTab(&quot;Cocina&quot;, kitchenPanel);&#10;&#10;        // Refresh relevant panels when switching tabs so updates appear immediately&#10;        tabs.addChangeListener(ev -&gt; {&#10;            int idx = tabs.getSelectedIndex();&#10;            if (idx &lt; 0) return;&#10;            String title = tabs.getTitleAt(idx);&#10;            if (&quot;Cocina&quot;.equals(title)) {&#10;                kitchenPanel.refreshAll();&#10;            } else if (&quot;Producción&quot;.equals(title)) {&#10;                productionPanel.refreshTable();&#10;            } else if (&quot;Inventario&quot;.equals(title)) {&#10;                inventoryPanel.refreshTable();&#10;            } else if (&quot;Mesas&quot;.equals(title)) {&#10;                tablesPanel.refreshTable();&#10;            }&#10;        });&#10;&#10;        getContentPane().setLayout(new BorderLayout());&#10;        getContentPane().add(tabs, BorderLayout.CENTER);&#10;&#10;        // Style components recursively so backgrounds/fonts apply to nested panels&#10;        Styles.styleComponent(this.getContentPane());&#10;        // Small tweak: set tabbed pane background to tab content color&#10;        Color tabBg = UIManager.getColor(&quot;TabbedPane.contentAreaColor&quot;);&#10;        if (tabBg != null) tabs.setBackground(tabBg);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/org/gui/Styles.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/org/gui/Styles.java" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package org.gui;&#10;&#10;import javax.swing.*;&#10;import java.awt.*;&#10;&#10;public class Styles {&#10;    private Styles() {} // utility class&#10;&#10;    public static final Font DEFAULT_FONT = new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14);&#10;    private static final Color PRIMARY = new Color(0x2D89EF);&#10;    private static final Color PANEL_BG = new Color(0xF5F7FA);&#10;    private static final Color TAB_SELECTED = new Color(0xE8EEF8);&#10;&#10;    public static void apply() {&#10;        // Try to set Nimbus look and feel if available&#10;        try {&#10;            for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {&#10;                if (&quot;Nimbus&quot;.equals(info.getName())) {&#10;                    UIManager.setLookAndFeel(info.getClassName());&#10;                    break;&#10;                }&#10;            }&#10;        } catch (Exception e) {&#10;            // Ignore LAF failures; fall back to default&#10;        }&#10;&#10;        // Global fonts&#10;        UIManager.put(&quot;Label.font&quot;, DEFAULT_FONT);&#10;        UIManager.put(&quot;Button.font&quot;, DEFAULT_FONT);&#10;        UIManager.put(&quot;TextField.font&quot;, DEFAULT_FONT);&#10;        UIManager.put(&quot;Table.font&quot;, DEFAULT_FONT);&#10;        UIManager.put(&quot;TabbedPane.font&quot;, DEFAULT_FONT);&#10;        UIManager.put(&quot;TableHeader.font&quot;, DEFAULT_FONT.deriveFont(Font.BOLD));&#10;&#10;        // Colors&#10;        UIManager.put(&quot;Panel.background&quot;, PANEL_BG);&#10;        UIManager.put(&quot;TabbedPane.contentAreaColor&quot;, PANEL_BG);&#10;        UIManager.put(&quot;TabbedPane.selected&quot;, TAB_SELECTED);&#10;        UIManager.put(&quot;Table.background&quot;, Color.WHITE);&#10;        UIManager.put(&quot;Table.selectionBackground&quot;, PRIMARY);&#10;        UIManager.put(&quot;Table.selectionForeground&quot;, Color.WHITE);&#10;&#10;        // Table tweaks&#10;        UIManager.put(&quot;Table.rowHeight&quot;, 24);&#10;&#10;        // Buttons&#10;        UIManager.put(&quot;Button.background&quot;, PRIMARY);&#10;        UIManager.put(&quot;Button.foreground&quot;, Color.WHITE);&#10;        UIManager.put(&quot;Button.focus&quot;, PRIMARY.darker());&#10;&#10;        // Text fields&#10;        UIManager.put(&quot;TextField.background&quot;, Color.WHITE);&#10;&#10;        // Other tweaks&#10;        UIManager.put(&quot;ScrollPane.background&quot;, PANEL_BG);&#10;        UIManager.put(&quot;ToolTip.background&quot;, new Color(0xFFFFFF));&#10;        UIManager.put(&quot;ToolTip.foreground&quot;, Color.DARK_GRAY);&#10;    }&#10;&#10;    public static void styleComponent(Component c) {&#10;        if (c == null) return;&#10;        Color bg = UIManager.getColor(&quot;Panel.background&quot;);&#10;        try {&#10;            if (c instanceof JComponent jc) {&#10;                jc.setOpaque(true);&#10;            }&#10;            if (bg != null) {&#10;                c.setBackground(bg);&#10;            }&#10;            if (c instanceof JScrollPane sp) {&#10;                if (sp.getViewport() != null) sp.getViewport().setBackground(bg);&#10;            }&#10;            if (c instanceof Container container) {&#10;                for (Component child : container.getComponents()) {&#10;                    styleComponent(child);&#10;                }&#10;            }&#10;        } catch (Exception e) {&#10;            // ignore styling errors&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>